---
# blog page must be named index.html and in its own folder to support pagination
# https://jekyllrb.com/docs/pagination/
layout: page
title: Blog
pagination:
  enabled: true
---
<section class="list">
	{% if site.posts.size == 0 %}
		<p class="text-center">Nothing published yet!</p>
	{% elsif site.pagination.enabled %}
		<!-- {% for post in paginator.posts %}
			{% if post.category == 'blog' %}
				{% if post.hidden != true %}
					{% include blog-post.html %}
				{% endif %}
			{% endif %}
		{% endfor %} -->
		{% assign items_grouped = paginator.posts | group_by: 'ref' %}
		{% for group in items_grouped %}
    		{% if group.items.size > 1 %}
        		{% assign post = group.items | where: "lang",page.lang | first %}
   			{% else %}
        		{% assign post = group.items[0] %}
    		{% endif %}
			{% if post.category == 'blog' %}
				{% if post.hidden != true %}
					{% include blog-post.html %}
				{% endif %}
			{% endif %}
		{% endfor %}
	
		{% include pagination.html%}
	{% else %}
		{% assign items_grouped = paginator.posts | group_by: 'ref' %}
		{% for group in items_grouped %}
    		{% if group.items.size > 1 %}
        		{% assign post = group.items | where: "lang",page.lang | first %}
   			{% else %}
        		{% assign post = group.items[0] %}
    		{% endif %}
			{% if post.category == 'blog' %}
				{% if post.hidden != true %}
					{% include blog-post.html %}
				{% endif %}
			{% endif %}
	
		<!-- {% for post in site.posts %}
			{% if post.category == 'blog' %}
				{% if post.hidden != true %}
					{% include blog-post.html %}
				{% endif %}
			{% endif %}
		{% endfor %} -->
	{% endif %}
</section>
